!function(e){var a=e.summernote.renderer.getTemplate(),l=e.summernote.eventHandler.getEditor(),n={},o=function(e){var a,l;if(window.getSelection){if(a=window.getSelection(),a.getRangeAt&&a.rangeCount){l=a.getRangeAt(0),l.deleteContents();var n=document.createElement("div");n.innerHTML=e;for(var o,t,c=document.createDocumentFragment();o=n.firstChild;)t=c.appendChild(o);l.insertNode(c),t&&(l=l.cloneRange(),l.setStartAfter(t),l.collapse(!0),a.removeAllRanges(),a.addRange(l))}}else document.selection&&"Control"!=document.selection.type&&document.selection.createRange().pasteHTML(e)};e.summernote.addPlugin({name:"addTag",buttons:{addTag:function(){var e=[{clazz:"todo",icon:"square-o",label:"To Do",continuous:!0},{clazz:"done",icon:"check-square-o",label:"Done"},{clazz:"important",icon:"star",label:"Important"},{clazz:"task",icon:"tasks",label:"Task",continuous:!0},{clazz:"research",icon:"search",label:"Research"},{clazz:"book",icon:"book",label:"Learn"},{clazz:"heart",icon:"heart-o",label:"Like"},{clazz:"at",icon:"at",label:"Mention"},{clazz:"bell",icon:"bell",label:"Alert"},{clazz:"bookmark",icon:"bookmark",label:"Bookmark"},{clazz:"question",icon:"question",label:"Question",continuous:!0},{clazz:"bug",icon:"bug",label:"Bug",continuous:!0},{clazz:"calendar",icon:"calendar",label:"Event"},{clazz:"comment",icon:"comment-o",label:"Discuss"},{clazz:"dot-circle",icon:"dot-circle-o",label:"Dot"},{clazz:"envelope",icon:"envelope-o",label:"Mail"},{clazz:"exclamation",icon:"exclamation-triangle",label:"Warning"},{clazz:"eye",icon:"eye",label:"Watch"},{clazz:"university",icon:"university",label:"University"},{clazz:"lock",icon:"lock",label:"Secret"},{clazz:"quote",icon:"quote-left",label:"Quote"},{clazz:"lightbulb",icon:"lightbulb-o",label:"Idea"},{clazz:"brainstorm",icon:"sitemap",label:"Brainstorm"},{clazz:"share",icon:"share-alt",label:"Share"},{clazz:"trophy",icon:"trophy",label:"Trophy"},{clazz:"doubt",icon:"hand-o-up",label:"Doubt"},{clazz:"users",icon:"users",label:"Friends"}],l="";e.forEach(function(e){n[e.clazz]=e,l=l+'<li class="note_tag '+e.clazz+'"><a data-event="addTag" href="#" data-value="',l=l+e.clazz+'"><i class="fa fa-'+e.icon+'"></i> &nbsp;'+e.label+"</li>"});var o='<ul class="dropdown-menu columns">'+l+"</ul>";return a.iconButton("fa fa-tags",{title:"Insert Tags",hide:!0,dropdown:o})}},events:{addTag:function(e,a){var t=e.editable();l.saveRange(t);var c=n[a],i="";c.continuous?(i='<p><div class="note_tag '+c.clazz+'" title="'+c.label+'"><i class="fa fa-'+c.icon+'"></i> &nbsp;'+c.label+"</div></p>",o(i)):(i='<p><div class="note_tag '+c.clazz+'" title="'+c.label+'"><i class="fa fa-'+c.icon+'"></i> &nbsp;'+c.label+"</div></p>",o(i))}}})}(jQuery);